£
ED:\Dev\AspNetCoreTestes\App.WebAPI\AutoMapperConfig\MapperProvider.cs
	namespace 	
App
 
. 
WebAPI 
. 
AutoMapperConfig %
{ 
public 

class 
MapperProvider 
{ 
private 
readonly 
	Container "

_container# -
=. /
DependencyResolver0 B
.B C
ContainerFactoryC S
.S T
	ContainerT ]
;] ^
public 
IMapper 
	GetMapper  
(  !
)! "
{ 	
var 
mce 
= 
new )
MapperConfigurationExpression 7
(7 8
)8 9
;9 :
mce 
. "
ConstructServicesUsing &
(& '

_container' 1
.1 2
GetInstance2 =
)= >
;> ?
var 
profiles 
= 
typeof !
(! "%
ApplicationMappingProfile" ;
); <
.< =
Assembly= E
.E F
GetTypesF N
(N O
)O P
. 
Where 
( 
t 
=> 
typeof "
(" #
Profile# *
)* +
.+ ,
IsAssignableFrom, <
(< =
t= >
)> ?
)? @
. 
ToList 
( 
) 
; 
mce 
. 
AddProfiles 
( 
profiles $
)$ %
;% &
var 
mc 
= 
new 
MapperConfiguration ,
(, -
mce- 0
)0 1
;1 2
mc   
.   &
AssertConfigurationIsValid   )
(  ) *
)  * +
;  + ,
IMapper"" 
m"" 
="" 
new"" 
Mapper"" "
(""" #
mc""# %
,""% &
t""' (
=>"") +

_container"", 6
.""6 7
GetInstance""7 B
(""B C
t""C D
)""D E
)""E F
;""F G
return$$ 
m$$ 
;$$ 
}%% 	
}&& 
}'' £*
@D:\Dev\AspNetCoreTestes\App.WebAPI\Controllers\AuthController.cs
	namespace 	
App
 
. 
WebAPI 
. 
Controllers  
{ 
[ 
	Authorize 
] 
[ 
Produces 
( 
$str  
)  !
]! "
[ 
Route 

(
 
$str 
) 
] 
public 

class 
AuthController 
:  !

Controller" ,
{ 
private $
ILoginApplicationService (
_loginService) 6
;6 7
private 
IConfigurationRoot "
_config# *
;* +
public 
AuthController 
( $
ILoginApplicationService 6
loginService7 C
,C D
IConfigurationRootE W
configX ^
)^ _
{   	
_loginService!! 
=!! 
loginService!! (
;!!( )
_config"" 
="" 
config"" 
;"" 
}$$ 	
[++ 	
HttpPost++	 
]++ 
[,, 	
AllowAnonymous,,	 
],, 
[-- 	 
ProducesResponseType--	 
(-- 
$num-- !
)--! "
]--" #
[.. 	 
ProducesResponseType..	 
(.. 
$num.. !
)..! "
].." #
public// 
IActionResult// 
Login// "
(//" #
[//# $
FromBody//$ ,
]//, -
LoginViewModel//. <
login//= B
)//B C
{00 	
if11 
(11 
login11 
==11 
null11 
)11 
return22 

BadRequest22 !
(22! "
$str22" >
)22> ?
;22? @
var44 
user44 
=44 
_loginService44 $
.44$ %
Login44% *
(44* +
login44+ 0
.440 1
Email441 6
,446 7
login448 =
.44= >
Senha44> C
)44C D
;44D E
if66 
(66 
user66 
!=66 
null66 
)66 
{77 
var88 
claims88 
=88 
new88  
[88  !
]88! "
{99 
new:: 
Claim:: 
(:: #
JwtRegisteredClaimNames:: 5
.::5 6
Sub::6 9
,::9 :
user::; ?
.::? @
Email::@ E
)::E F
,::F G
new;; 
Claim;; 
(;; #
JwtRegisteredClaimNames;; 5
.;;5 6
Jti;;6 9
,;;9 :
user;;; ?
.;;? @
Id;;@ B
.;;B C
ToString;;C K
(;;K L
);;L M
);;M N
,;;N O
new<< 
Claim<< 
(<< #
JwtRegisteredClaimNames<< 5
.<<5 6
Email<<6 ;
,<<; <
user<<= A
.<<A B
Email<<B G
)<<G H
,<<H I
new== 
Claim== 
(== #
JwtRegisteredClaimNames== 5
.==5 6
	GivenName==6 ?
,==? @
user==A E
.==E F
Nome==F J
)==J K
,==K L
new>> 
Claim>> 
(>> 
$str>> '
,>>' (
user>>) -
.>>- .
Perfil>>. 4
.>>4 5
ToString>>5 =
(>>= >
)>>> ?
)>>? @
,>>@ A
}?? 
;?? 
varBB 
keyBB 
=BB 
newBB  
SymmetricSecurityKeyBB 2
(BB2 3
EncodingBB3 ;
.BB; <
UTF8BB< @
.BB@ A
GetBytesBBA I
(BBI J
_configBBJ Q
[BBQ R
$strBBR ^
]BB^ _
)BB_ `
)BB` a
;BBa b
varCC 
credsCC 
=CC 
newCC 
SigningCredentialsCC  2
(CC2 3
keyCC3 6
,CC6 7
SecurityAlgorithmsCC8 J
.CCJ K

HmacSha256CCK U
)CCU V
;CCV W
varEE 
tokenEE 
=EE 
newEE 
JwtSecurityTokenEE  0
(EE0 1
_configEE1 8
[EE8 9
$strEE9 H
]EEH I
,EEI J
_configFF 
[FF 
$strFF )
]FF) *
,FF* +
claimsGG 
,GG 
expiresHH 
:HH 
DateTimeHH #
.HH# $
NowHH$ '
.HH' (

AddMinutesHH( 2
(HH2 3
$numHH3 5
)HH5 6
,HH6 7
signingCredentialsII $
:II$ %
credsII& +
)II+ ,
;II, -
returnLL 
OkLL 
(LL 
newLL 
{MM 
tokenNN 
=NN 
newNN #
JwtSecurityTokenHandlerNN  7
(NN7 8
)NN8 9
.NN9 :

WriteTokenNN: D
(NND E
tokenNNE J
)NNJ K
,NNK L

expirationOO 
=OO  
tokenOO! &
.OO& '
ValidToOO' .
}PP 
)PP 
;PP 
}QQ 
throwSS 
newSS $
UserLoginFailedExceptionSS .
(SS. /
)SS/ 0
;SS0 1
}TT 	
}UU 
}VV ˚
@D:\Dev\AspNetCoreTestes\App.WebAPI\Controllers\BaseController.cs
	namespace 	
App
 
. 
WebAPI 
. 
Controllers  
{		 
public 

abstract 
class 
BaseController (
:) *

Controller+ 5
{ 
public 
UsuarioViewModel 
Usuario  '
=>( *
ObterUsuario+ 7
(7 8
)8 9
;9 :
private 
UsuarioViewModel  
_usuario! )
;) *
private 
UsuarioViewModel  
ObterUsuario! -
(- .
). /
{ 	
if 
( 
_usuario 
!= 
null  
)  !
return 
_usuario 
;  
var 
usuario 
= 
new 
UsuarioViewModel .
(. /
)/ 0
;0 1
var 
identity 
= 
User 
.  
Identity  (
as) +
ClaimsIdentity, :
;: ;
if   
(   
identity   
==   
null    
)    !
return!! 
null!! 
;!! 
var## 
claims## 
=## 
identity## !
.##! "
Claims##" (
.##( )
ToList##) /
(##/ 0
)##0 1
;##1 2
var$$ 
id$$ 
=$$ 
GetClaimValue$$ "
($$" #
claims$$# )
,$$) *#
JwtRegisteredClaimNames$$+ B
.$$B C
Jti$$C F
)$$F G
;$$G H
usuario&& 
.&& 
Id&& 
=&& 
int&& 
.&& 
Parse&& "
(&&" #
id&&# %
)&&% &
;&&& '
usuario'' 
.'' 
Nome'' 
='' 
GetClaimValue'' (
(''( )
claims'') /
,''/ 0

ClaimTypes''1 ;
.''; <
	GivenName''< E
)''E F
;''F G
usuario(( 
.(( 
Email(( 
=(( 
GetClaimValue(( )
((() *
claims((* 0
,((0 1

ClaimTypes((2 <
.((< =
Email((= B
)((B C
;((C D
usuario)) 
.)) 
Perfil)) 
=)) 
GetClaimValue)) *
())* +
claims))+ 1
,))1 2
$str))3 <
)))< =
;))= >
_usuario++ 
=++ 
usuario++ 
;++ 
return,, 
_usuario,, 
;,, 
}-- 	
private// 
string// 
GetClaimValue// $
(//$ %
IList//% *
<//* +
Claim//+ 0
>//0 1
claims//2 8
,//8 9
string//: @
type//A E
)//E F
{00 	
return11 
claims11 
.11 
FirstOrDefault11 (
(11( )
c11) *
=>11+ -
c11. /
.11/ 0
Type110 4
==115 7
type118 <
)11< =
?11= >
.11> ?
Value11? D
;11D E
}22 	
}33 
}44 Ê%
DD:\Dev\AspNetCoreTestes\App.WebAPI\Controllers\ClientesController.cs
	namespace 	
App
 
. 
WebAPI 
. 
Controllers  
{		 
[ 
	Authorize 
] 
[ 
Route 

(
 
$str 
) 
] 
public 

class 
ClientesController #
:$ %
BaseController& 4
{ 
private &
IClienteApplicationService *
_appService+ 6
{7 8
get9 <
;< =
}> ?
public 
ClientesController !
(! "&
IClienteApplicationService" <

appService= G
)G H
{ 	
_appService 
= 

appService $
;$ %
} 	
["" 	
HttpGet""	 
]"" 
[## 	 
ProducesResponseType##	 
(## 
typeof## $
(##$ %
IList##% *
<##* +
Cliente##+ 2
>##2 3
)##3 4
,##4 5
$num##6 9
)##9 :
]##: ;
public$$ 
IActionResult$$ 
Get$$  
($$  !
int$$! $
pagina$$% +
,$$+ ,
int$$- 0
	porPagina$$1 :
)$$: ;
{%% 	
return&& 
Ok&& 
(&& 
_appService&& !
.&&! "
ListarTodos&&" -
(&&- .
pagina&&. 4
,&&4 5
	porPagina&&6 ?
)&&? @
)&&@ A
;&&A B
}'' 	
[.. 	
HttpGet..	 
(.. 
$str.. 
).. 
].. 
[// 	 
ProducesResponseType//	 
(// 
typeof// $
(//$ %
Cliente//% ,
)//, -
,//- .
$num/// 2
)//2 3
]//3 4
[00 	 
ProducesResponseType00	 
(00 
$num00 !
)00! "
]00" #
public11 
IActionResult11 
Get11  
(11  !
int11! $
id11% '
)11' (
{22 	
return33 
Ok33 
(33 
_appService33 !
.33! "
Obter33" '
(33' (
id33( *
)33* +
)33+ ,
;33, -
}44 	
[;; 	
HttpPost;;	 
];; 
[<< 	 
ProducesResponseType<<	 
(<< 
typeof<< $
(<<$ %
Cliente<<% ,
)<<, -
,<<- .
$num<</ 2
)<<2 3
]<<3 4
[== 	 
ProducesResponseType==	 
(== 
$num== !
)==! "
]==" #
public>> 
IActionResult>> 
Post>> !
(>>! "
[>>" #
FromBody>># +
]>>+ ,
ClienteInput>>- 9
cliente>>: A
)>>A B
{?? 	
_appService@@ 
.@@ 
	Adicionar@@ !
(@@! "
cliente@@" )
)@@) *
;@@* +
returnAA 
OkAA 
(AA 
)AA 
;AA 
}BB 	
[JJ 	
HttpPutJJ	 
(JJ 
$strJJ 
)JJ 
]JJ 
[KK 	 
ProducesResponseTypeKK	 
(KK 
$numKK !
)KK! "
]KK" #
[LL 	 
ProducesResponseTypeLL	 
(LL 
$numLL !
)LL! "
]LL" #
[MM 	 
ProducesResponseTypeMM	 
(MM 
$numMM !
)MM! "
]MM" #
publicNN 
IActionResultNN 
PutNN  
(NN  !
intNN! $
idNN% '
,NN' (
[NN) *
FromBodyNN* 2
]NN2 3
ClienteInputNN3 ?
clienteNN@ G
)NNG H
{OO 	
_appServicePP 
.PP 
	AtualizarPP !
(PP! "
idPP" $
,PP$ %
clientePP& -
)PP- .
;PP. /
returnQQ 
OkQQ 
(QQ 
)QQ 
;QQ 
}RR 	
[YY 	

HttpDeleteYY	 
(YY 
$strYY 
)YY 
]YY 
[ZZ 	 
ProducesResponseTypeZZ	 
(ZZ 
$numZZ !
)ZZ! "
]ZZ" #
[[[ 	 
ProducesResponseType[[	 
([[ 
$num[[ !
)[[! "
][[" #
public\\ 
IActionResult\\ 
Delete\\ #
(\\# $
int\\$ '
id\\( *
)\\* +
{]] 	
_appService^^ 
.^^ 
Excluir^^ 
(^^  
id^^  "
)^^" #
;^^# $
return__ 
Ok__ 
(__ 
)__ 
;__ 
}`` 	
}aa 
}bb π&
DD:\Dev\AspNetCoreTestes\App.WebAPI\Controllers\UsuariosController.cs
	namespace 	
App
 
. 
WebAPI 
. 
Controllers  
{		 
[ 
	Authorize 
( 
Policy 
= 
$str )
)) *
]* +
[ 
Route 

(
 
$str 
) 
] 
public 

class 
UsuariosController #
:$ %
BaseController& 4
{ 
private &
IUsuarioApplicationService *
_appService+ 6
{7 8
get9 <
;< =
}> ?
public 
UsuariosController !
(! "&
IUsuarioApplicationService" <

appService= G
)G H
{ 	
_appService 
= 

appService $
;$ %
} 	
["" 	
HttpGet""	 
]"" 
[## 	 
ProducesResponseType##	 
(## 
typeof## $
(##$ %
IList##% *
<##* +
Usuario##+ 2
>##2 3
)##3 4
,##4 5
$num##6 9
)##9 :
]##: ;
public$$ 
IActionResult$$ 
Get$$  
($$  !
int$$! $
pagina$$% +
,$$+ ,
int$$- 0
	porPagina$$1 :
)$$: ;
{%% 	
return&& 
Ok&& 
(&& 
_appService&& !
.&&! "
ListarTodos&&" -
(&&- .
pagina&&. 4
,&&4 5
	porPagina&&6 ?
)&&? @
)&&@ A
;&&A B
}'' 	
[.. 	
HttpGet..	 
(.. 
$str.. 
).. 
].. 
[// 	 
ProducesResponseType//	 
(// 
typeof// $
(//$ %
Usuario//% ,
)//, -
,//- .
$num/// 2
)//2 3
]//3 4
[00 	 
ProducesResponseType00	 
(00 
$num00 !
)00! "
]00" #
public11 
IActionResult11 
Get11  
(11  !
int11! $
id11% '
)11' (
{22 	
return33 
Ok33 
(33 
_appService33 !
.33! "
Obter33" '
(33' (
id33( *
)33* +
)33+ ,
;33, -
}44 	
[;; 	
HttpPost;;	 
];; 
[<< 	 
ProducesResponseType<<	 
(<< 
typeof<< $
(<<$ %
Usuario<<% ,
)<<, -
,<<- .
$num<</ 2
)<<2 3
]<<3 4
[== 	 
ProducesResponseType==	 
(== 
$num== !
)==! "
]==" #
public>> 
IActionResult>> 
Post>> !
(>>! "
[>>" #
FromBody>># +
]>>+ ,
UsuarioInput>>- 9
usuario>>: A
)>>A B
{?? 	
_appService@@ 
.@@ 
	Adicionar@@ !
(@@! "
usuario@@" )
)@@) *
;@@* +
returnAA 
OkAA 
(AA 
)AA 
;AA 
}BB 	
[JJ 	
HttpPutJJ	 
(JJ 
$strJJ 
)JJ 
]JJ 
[KK 	 
ProducesResponseTypeKK	 
(KK 
$numKK !
)KK! "
]KK" #
[LL 	 
ProducesResponseTypeLL	 
(LL 
$numLL !
)LL! "
]LL" #
[MM 	 
ProducesResponseTypeMM	 
(MM 
$numMM !
)MM! "
]MM" #
publicNN 
IActionResultNN 
PutNN  
(NN  !
intNN! $
idNN% '
,NN' (
[NN) *
FromBodyNN* 2
]NN2 3
UsuarioInputNN3 ?
usuarioNN@ G
)NNG H
{OO 	
_appServicePP 
.PP 
	AtualizarPP !
(PP! "
idPP" $
,PP$ %
usuarioPP& -
)PP- .
;PP. /
returnQQ 
OkQQ 
(QQ 
)QQ 
;QQ 
}RR 	
[YY 	

HttpDeleteYY	 
(YY 
$strYY 
)YY 
]YY 
[ZZ 	 
ProducesResponseTypeZZ	 
(ZZ 
$numZZ !
)ZZ! "
]ZZ" #
[[[ 	 
ProducesResponseType[[	 
([[ 
$num[[ !
)[[! "
][[" #
public\\ 
IActionResult\\ 
Delete\\ #
(\\# $
int\\$ '
id\\( *
)\\* +
{]] 	
_appService^^ 
.^^ 
Excluir^^ 
(^^  
id^^  "
)^^" #
;^^# $
return__ 
Ok__ 
(__ 
)__ 
;__ 
}`` 	
}aa 
}bb ∏
ED:\Dev\AspNetCoreTestes\App.WebAPI\Middleware\ApiRequestMiddleware.cs
	namespace 	
App
 
. 
WebAPI 
. 

Middleware 
{ 
public

 

sealed

 
class

  
ApiRequestMiddleware

 ,
{ 
public 
async 
Task 
Invoke  
(  !
HttpContext! ,
context- 4
,4 5
Func6 :
<: ;
Task; ?
>? @
nextA E
)E F
{ 	
await 
next 
( 
) 
; 
} 	
} 
} ¥
GD:\Dev\AspNetCoreTestes\App.WebAPI\Middleware\ErrorHandlerMiddleware.cs
	namespace 	
App
 
. 
WebAPI 
. 

Middleware 
{		 
public 

class "
ErrorHandlerMiddleware '
{ 
public 
async 
Task 
Invoke  
(  !
HttpContext! ,
context- 4
,4 5
Func6 :
<: ;
Task; ?
>? @
nextA E
)E F
{ 	
try 
{ 
await 
next 
( 
) 
; 
} 
catch 
( 
	Exception 
ex 
)  
{ 
await  
HandleExceptionAsync *
(* +
context+ 2
,2 3
ex4 6
)6 7
;7 8
} 
}   	
private"" 
static"" 
Task""  
HandleExceptionAsync"" 0
(""0 1
HttpContext""1 <
context""= D
,""D E
	Exception""F O
	exception""P Y
)""Y Z
{## 	
HttpStatusCode$$ 
code$$ 
;$$  
switch&& 
(&& 
	exception&& 
)&& 
{'' 
case(( 
NotFoundException(( &
nfEx((' +
:((+ ,
code)) 
=)) 
HttpStatusCode)) )
.))) *
NotFound))* 2
;))2 3
break** 
;** 
case++ %
FieldsValidationException++ .
fvEx++/ 3
:++3 4
case,, $
UserLoginFailedException,, -
ulfEx,,. 3
:,,3 4
code-- 
=-- 
HttpStatusCode-- )
.--) *

BadRequest--* 4
;--4 5
break.. 
;.. 
default// 
:// 
code00 
=00 
HttpStatusCode00 )
.00) *
InternalServerError00* =
;00= >
break11 
;11 
}22 
var44 
result44 
=44 
JsonConvert44 $
.44$ %
SerializeObject44% 4
(444 5
new445 8
{449 :
Erro44; ?
=44@ A
	exception44B K
.44K L
Message44L S
}44T U
)44U V
;44V W
context55 
.55 
Response55 
.55 
ContentType55 (
=55) *
$str55+ =
;55= >
context66 
.66 
Response66 
.66 

StatusCode66 '
=66( )
(66* +
int66+ .
)66. /
code66/ 3
;663 4
return77 
context77 
.77 
Response77 #
.77# $

WriteAsync77$ .
(77. /
result77/ 5
)775 6
;776 7
}88 	
}99 
}:: Ÿ
-D:\Dev\AspNetCoreTestes\App.WebAPI\Program.cs
	namespace 	
App
 
. 
WebAPI 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
Console 
. 
Title 
= 
$str !
;! "
var 
config 
= 
new  
ConfigurationBuilder 1
(1 2
)2 3
. 
SetBasePath 
( 
	Directory %
.% &
GetCurrentDirectory& 9
(9 :
): ;
); <
. 
AddJsonFile 
( 
$str .
,. /
optional0 8
:8 9
false: ?
)? @
. 
Build 
( 
) 
; 
var 
host 
= 
new 
WebHostBuilder )
() *
)* +
. 

UseKestrel 
( 
) 
. 
UseConfiguration !
(! "
config" (
)( )
.   
UseUrls   
(   
$str   0
)  0 1
.!! 
UseContentRoot!! 
(!!  
	Directory!!  )
.!!) *
GetCurrentDirectory!!* =
(!!= >
)!!> ?
)!!? @
."" 
UseIISIntegration"" "
(""" #
)""# $
.## 

UseStartup## 
<## 
Startup## #
>### $
(##$ %
)##% &
.$$ 
Build$$ 
($$ 
)$$ 
;$$ 
host&& 
.&& 
Run&& 
(&& 
)&& 
;&& 
}'' 	
public.. 
static.. 
IWebHost.. 
BuildWebHost.. +
(..+ ,
string.., 2
[..2 3
]..3 4
args..5 9
)..9 :
=>..; =
WebHost// 
.//  
CreateDefaultBuilder// (
(//( )
args//) -
)//- .
.00 

UseStartup00 
<00 
Startup00 #
>00# $
(00$ %
)00% &
.11 
Build11 
(11 
)11 
;11 
}22 
}33 ”±
-D:\Dev\AspNetCoreTestes\App.WebAPI\Startup.cs
	namespace&& 	
App&&
 
.&& 
WebAPI&& 
{'' 
public++ 

class++ 
Startup++ 
{,, 
private-- 
readonly-- 
	Container-- "
	container--# ,
=--- .
ContainerFactory--/ ?
.--? @
	Container--@ I
;--I J
private// 
IConfigurationRoot// "
_config//# *
;//* +
public55 
Startup55 
(55 
IConfiguration55 %
configuration55& 3
)553 4
{66 	
Configuration77 
=77 
configuration77 )
;77) *
}88 	
public== 
IConfiguration== 
Configuration== +
{==, -
get==. 1
;==1 2
}==3 4
publicCC 
voidCC 
ConfigureServicesCC %
(CC% &
IServiceCollectionCC& 8
servicesCC9 A
)CCA B
{DD 	
servicesEE 
.EE 
AddMvcEE 
(EE 
)EE 
;EE 
servicesII 
.II 
AddAuthenticationII &
(II& '
(II' (
optionsII( /
)II/ 0
=>II1 3
{JJ 
optionsKK 
.KK 
DefaultSchemeKK %
=KK& '
JwtBearerDefaultsKK( 9
.KK9 : 
AuthenticationSchemeKK: N
;KKN O
optionsLL 
.LL "
DefaultChallengeSchemeLL .
=LL/ 0
JwtBearerDefaultsLL1 B
.LLB C 
AuthenticationSchemeLLC W
;LLW X
}MM 
)MM 
.NN 
AddJwtBearerNN 
(NN 
optionsNN !
=>NN" $
{OO 
optionsPP 
.PP %
TokenValidationParametersPP 1
=PP2 3
newPP4 7%
TokenValidationParametersPP8 Q
(PPQ R
)PPR S
{QQ 
ValidIssuerRR 
=RR  !
ConfigurationRR" /
[RR/ 0
$strRR0 ?
]RR? @
,RR@ A
ValidAudienceSS !
=SS" #
ConfigurationSS$ 1
[SS1 2
$strSS2 C
]SSC D
,SSD E
IssuerSigningKeyTT $
=TT% &
newTT' * 
SymmetricSecurityKeyTT+ ?
(TT? @
EncodingTT@ H
.TTH I
UTF8TTI M
.TTM N
GetBytesTTN V
(TTV W
ConfigurationTTW d
[TTd e
$strTTe q
]TTq r
)TTr s
)TTs t
}UU 
;UU 
optionsVV 
.VV  
RequireHttpsMetadataVV ,
=VV- .
falseVV/ 4
;VV4 5
optionsWW 
.WW 
	SaveTokenWW !
=WW" #
trueWW$ (
;WW( )
optionsXX 
.XX 
AudienceXX  
=XX! "
ConfigurationXX# 0
[XX0 1
$strXX1 B
]XXB C
;XXC D
}YY 
)YY 
;YY 
services[[ 
.[[ 
AddAuthorization[[ %
([[% &
options[[& -
=>[[. 0
{\\ 
options]] 
.]] 
	AddPolicy]] !
(]]! "
$str]]" 3
,]]3 4
p]]5 6
=>]]7 9
p]]: ;
.]]; <
RequireClaim]]< H
(]]H I
$str]]I R
,]]R S
PerfilUsuario]]T a
.]]a b
Administradores]]b q
.]]q r
ToString]]r z
(]]z {
)]]{ |
)]]| }
)]]} ~
;]]~ 
}^^ 
)^^ 
;^^ #
IntegrateSimpleInjectorbb #
(bb# $
servicesbb$ ,
)bb, -
;bb- .
servicesee 
.ee 
AddSwaggerGenee "
(ee" #
optionsee# *
=>ee+ -
{ff 
optionsgg 
.gg 

SwaggerDocgg "
(gg" #
$strgg# '
,gg' (
newgg) ,
Infogg- 1
{hh 
Versionii 
=ii 
$strii "
,ii" #
Titlejj 
=jj 
$strjj 1
,jj1 2
Descriptionkk 
=kk  !
$strkk" [
,kk[ \
TermsOfServicell "
=ll# $
$strll% +
,ll+ ,
Contactmm 
=mm 
newmm !
Contactmm" )
{mm* +
Namemm, 0
=mm1 2
$strmm3 F
,mmF G
EmailmmH M
=mmN O
$strmmP i
,mmi j
Urlmmk n
=mmo p
$strmmq s
}mmt u
}nn 
)nn 
;nn 
varqq 
basePathqq 
=qq 
PlatformServicesqq /
.qq/ 0
Defaultqq0 7
.qq7 8
Applicationqq8 C
.qqC D
ApplicationBasePathqqD W
;qqW X
varrr 
xmlPathrr 
=rr 
Pathrr "
.rr" #
Combinerr# *
(rr* +
basePathrr+ 3
,rr3 4
$strrr5 E
)rrE F
;rrF G
optionsss 
.ss 
IncludeXmlCommentsss *
(ss* +
xmlPathss+ 2
)ss2 3
;ss3 4
optionstt 
.tt 
OperationFiltertt '
<tt' (.
"AuthorizationHeaderOperationFiltertt( J
>ttJ K
(ttK L
)ttL M
;ttM N
}uu 
)uu 
;uu 
}yy 	
private{{ 
void{{ #
IntegrateSimpleInjector{{ ,
({{, -
IServiceCollection{{- ?
services{{@ H
){{H I
{|| 	
	container}} 
.}} 
Options}} 
.}} "
DefaultScopedLifestyle}} 4
=}}5 6
new}}7 : 
AsyncScopedLifestyle}}; O
(}}O P
)}}P Q
;}}Q R
services 
. 
AddSingleton !
<! " 
IHttpContextAccessor" 6
,6 7
HttpContextAccessor8 K
>K L
(L M
)M N
;N O
services
ÅÅ 
.
ÅÅ 
AddSingleton
ÅÅ !
<
ÅÅ! ""
IControllerActivator
ÅÅ" 6
>
ÅÅ6 7
(
ÅÅ7 8
new
ÇÇ /
!SimpleInjectorControllerActivator
ÇÇ 5
(
ÇÇ5 6
	container
ÇÇ6 ?
)
ÇÇ? @
)
ÇÇ@ A
;
ÇÇA B
services
ÉÉ 
.
ÉÉ 
AddSingleton
ÉÉ !
<
ÉÉ! "%
IViewComponentActivator
ÉÉ" 9
>
ÉÉ9 :
(
ÉÉ: ;
new
ÑÑ 2
$SimpleInjectorViewComponentActivator
ÑÑ 8
(
ÑÑ8 9
	container
ÑÑ9 B
)
ÑÑB C
)
ÑÑC D
;
ÑÑD E
services
ÜÜ 
.
ÜÜ -
EnableSimpleInjectorCrossWiring
ÜÜ 4
(
ÜÜ4 5
	container
ÜÜ5 >
)
ÜÜ> ?
;
ÜÜ? @
services
áá 
.
áá 3
%UseSimpleInjectorAspNetRequestScoping
áá :
(
áá: ;
	container
áá; D
)
ááD E
;
ááE F
}
àà 	
public
êê 
void
êê 
	Configure
êê 
(
êê !
IApplicationBuilder
êê 1
app
êê2 5
,
êê5 6!
IHostingEnvironment
êê7 J
env
êêK N
)
êêN O
{
ëë 	
var
íí 
builder
íí 
=
íí 
new
íí "
ConfigurationBuilder
íí 2
(
íí2 3
)
íí3 4
.
ìì 
SetBasePath
ìì 
(
ìì 
env
ìì 
.
ìì 
ContentRootPath
ìì .
)
ìì. /
.
îî 
AddJsonFile
îî 
(
îî 
$str
îî -
,
îî- .
optional
îî/ 7
:
îî7 8
true
îî9 =
,
îî= >
reloadOnChange
îî? M
:
îîM N
true
îîO S
)
îîS T
.
ïï 
AddJsonFile
ïï 
(
ïï 
$"
ïï 
appsettings.
ïï )
{
ïï) *
env
ïï* -
.
ïï- .
EnvironmentName
ïï. =
}
ïï= >
.json
ïï> C
"
ïïC D
,
ïïD E
optional
ïïF N
:
ïïN O
true
ïïP T
)
ïïT U
.
ññ %
AddEnvironmentVariables
ññ &
(
ññ& '
)
ññ' (
;
ññ( )
_config
òò 
=
òò 
builder
òò 
.
òò 
Build
òò #
(
òò# $
)
òò$ %
;
òò% &!
InitializeContainer
ùù 
(
ùù  
app
ùù  #
)
ùù# $
;
ùù$ %
	container
†† 
.
†† 
Register
†† 
<
†† "
ApiRequestMiddleware
†† 3
>
††3 4
(
††4 5
)
††5 6
;
††6 7
	container
°° 
.
°° 
Register
°° 
<
°° $
ErrorHandlerMiddleware
°° 5
>
°°5 6
(
°°6 7
)
°°7 8
;
°°8 9
	container
££ 
.
££ 
Verify
££ 
(
££ 
)
££ 
;
££ 
app
®® 
.
®® 
Use
®® 
(
®® 
(
®® 
c
®® 
,
®® 
next
®® 
)
®® 
=>
®®  
	container
®®! *
.
®®* +
GetInstance
®®+ 6
<
®®6 7"
ApiRequestMiddleware
®®7 K
>
®®K L
(
®®L M
)
®®M N
.
®®N O
Invoke
®®O U
(
®®U V
c
®®V W
,
®®W X
next
®®Y ]
)
®®] ^
)
®®^ _
;
®®_ `
app
©© 
.
©© 
Use
©© 
(
©© 
(
©© 
c
©© 
,
©© 
next
©© 
)
©© 
=>
©©  
	container
©©! *
.
©©* +
GetInstance
©©+ 6
<
©©6 7$
ErrorHandlerMiddleware
©©7 M
>
©©M N
(
©©N O
)
©©O P
.
©©P Q
Invoke
©©Q W
(
©©W X
c
©©X Y
,
©©Y Z
next
©©[ _
)
©©_ `
)
©©` a
;
©©a b
app
ÆÆ 
.
ÆÆ 

UseSwagger
ÆÆ 
(
ÆÆ 
)
ÆÆ 
;
ÆÆ 
app
∞∞ 
.
∞∞ 
UseSwaggerUI
∞∞ 
(
∞∞ 
c
∞∞ 
=>
∞∞ !
{
±± 
c
≤≤ 
.
≤≤ 
SwaggerEndpoint
≤≤ !
(
≤≤! "
$str
≤≤" <
,
≤≤< =
$str
≤≤> Z
)
≤≤Z [
;
≤≤[ \
}
≥≥ 
)
≥≥ 
;
≥≥ 
app
∏∏ 
.
∏∏ 
UseAuthentication
∏∏ !
(
∏∏! "
)
∏∏" #
;
∏∏# $
app
ªª 
.
ªª $
UseMvcWithDefaultRoute
ªª &
(
ªª& '
)
ªª' (
;
ªª( )
}
ºº 	
private
ææ 
void
ææ !
InitializeContainer
ææ (
(
ææ( )!
IApplicationBuilder
ææ) <
app
ææ= @
)
ææ@ A
{
øø 	
	container
¡¡ 
.
¡¡ $
RegisterMvcControllers
¡¡ ,
(
¡¡, -
app
¡¡- 0
)
¡¡0 1
;
¡¡1 2
	container
¬¬ 
.
¬¬ '
RegisterMvcViewComponents
¬¬ /
(
¬¬/ 0
app
¬¬0 3
)
¬¬3 4
;
¬¬4 5
	container
≈≈ 
.
≈≈ 
RegisterSingleton
≈≈ '
(
≈≈' (
typeof
≈≈( .
(
≈≈. / 
IConfigurationRoot
≈≈/ A
)
≈≈A B
,
≈≈B C
_config
≈≈D K
)
≈≈K L
;
≈≈L M
	container
∆∆ 
.
∆∆ 
RegisterSingleton
∆∆ '
<
∆∆' ("
IHttpContextAccessor
∆∆( <
,
∆∆< =!
HttpContextAccessor
∆∆> Q
>
∆∆Q R
(
∆∆R S
)
∆∆S T
;
∆∆T U
	container
…… 
.
…… 
Register
…… 
<
…… (
IUsuarioApplicationService
…… 9
,
……9 :'
UsuarioApplicationService
……; T
>
……T U
(
……U V
	Lifestyle
……V _
.
……_ `
Scoped
……` f
)
……f g
;
……g h
	container
   
.
   
Register
   
<
   '
IPedidoApplicationService
   8
,
  8 9&
PedidoApplicationService
  : R
>
  R S
(
  S T
	Lifestyle
  T ]
.
  ] ^
Scoped
  ^ d
)
  d e
;
  e f
	container
ÀÀ 
.
ÀÀ 
Register
ÀÀ 
<
ÀÀ (
IClienteApplicationService
ÀÀ 9
,
ÀÀ9 :'
ClienteApplicationService
ÀÀ; T
>
ÀÀT U
(
ÀÀU V
	Lifestyle
ÀÀV _
.
ÀÀ_ `
Scoped
ÀÀ` f
)
ÀÀf g
;
ÀÀg h
	container
ÃÃ 
.
ÃÃ 
Register
ÃÃ 
<
ÃÃ &
ILoginApplicationService
ÃÃ 7
,
ÃÃ7 8%
LoginApplicationService
ÃÃ9 P
>
ÃÃP Q
(
ÃÃQ R
	Lifestyle
ÃÃR [
.
ÃÃ[ \
Scoped
ÃÃ\ b
)
ÃÃb c
;
ÃÃc d
	container
–– 
.
–– 
Register
–– 
<
––  
IUsuarioRepository
–– 1
,
––1 2
UsuarioRepository
––3 D
>
––D E
(
––E F
	Lifestyle
––F O
.
––O P
Scoped
––P V
)
––V W
;
––W X
	container
—— 
.
—— 
Register
—— 
<
—— 
IPedidoRepository
—— 0
,
——0 1
PedidoRepository
——2 B
>
——B C
(
——C D
	Lifestyle
——D M
.
——M N
Scoped
——N T
)
——T U
;
——U V
	container
““ 
.
““ 
Register
““ 
<
““  
IProdutoRepository
““ 1
,
““1 2
ProdutoRepository
““3 D
>
““D E
(
““E F
	Lifestyle
““F O
.
““O P
Scoped
““P V
)
““V W
;
““W X
	container
”” 
.
”” 
Register
”” 
<
””  
IClienteRepository
”” 1
,
””1 2
ClienteRepository
””3 D
>
””D E
(
””E F
	Lifestyle
””F O
.
””O P
Scoped
””P V
)
””V W
;
””W X
	container
‘‘ 
.
‘‘ 
Register
‘‘ 
<
‘‘ 
ITenantRepository
‘‘ 0
,
‘‘0 1
TenantRepository
‘‘2 B
>
‘‘B C
(
‘‘C D
	Lifestyle
‘‘D M
.
‘‘M N
Scoped
‘‘N T
)
‘‘T U
;
‘‘U V
	container
ÿÿ 
.
ÿÿ 
Register
ÿÿ 
(
ÿÿ 
(
ÿÿ  
)
ÿÿ  !
=>
ÿÿ" $
{
ŸŸ 
var
⁄⁄ 
options
⁄⁄ 
=
⁄⁄ 
new
⁄⁄ !%
DbContextOptionsBuilder
⁄⁄" 9
<
⁄⁄9 :
AdminContext
⁄⁄: F
>
⁄⁄F G
(
⁄⁄G H
)
⁄⁄H I
;
⁄⁄I J
options
€€ 
.
€€ 
UseSqlServer
€€ $
(
€€$ % 
GetDatabaseForUser
€€% 7
(
€€7 8
)
€€8 9
)
€€9 :
;
€€: ;
return
‹‹ 
new
‹‹ 
AdminContext
‹‹ '
(
‹‹' (
options
‹‹( /
.
‹‹/ 0
Options
‹‹0 7
)
‹‹7 8
;
‹‹8 9
}
›› 
,
›› 
	Lifestyle
›› 
.
›› 
Scoped
›› 
)
››  
;
››  !
	container
ﬂﬂ 
.
ﬂﬂ 
Register
ﬂﬂ 
(
ﬂﬂ 
(
ﬂﬂ  
)
ﬂﬂ  !
=>
ﬂﬂ" $
{
‡‡ 
var
·· 
options
·· 
=
·· 
new
·· !%
DbContextOptionsBuilder
··" 9
<
··9 :
LojaContext
··: E
>
··E F
(
··F G
)
··G H
;
··H I
options
‚‚ 
.
‚‚ 
UseSqlServer
‚‚ $
(
‚‚$ % 
GetDatabaseForUser
‚‚% 7
(
‚‚7 8
)
‚‚8 9
)
‚‚9 :
;
‚‚: ;
return
„„ 
new
„„ 
LojaContext
„„ &
(
„„& '
options
„„' .
.
„„. /
Options
„„/ 6
)
„„6 7
;
„„7 8
}
‰‰ 
,
‰‰ 
	Lifestyle
‰‰ 
.
‰‰ 
Scoped
‰‰ 
)
‰‰  
;
‰‰  !
	container
ÊÊ 
.
ÊÊ 
Register
ÊÊ 
(
ÊÊ 
(
ÊÊ  
)
ÊÊ  !
=>
ÊÊ" $
{
ÁÁ 
var
ËË 
options
ËË 
=
ËË 
new
ËË !%
DbContextOptionsBuilder
ËË" 9
<
ËË9 :%
TenantManagementContext
ËË: Q
>
ËËQ R
(
ËËR S
)
ËËS T
;
ËËT U
options
ÈÈ 
.
ÈÈ 
UseSqlServer
ÈÈ $
(
ÈÈ$ %
Configuration
ÈÈ% 2
.
ÈÈ2 3!
GetConnectionString
ÈÈ3 F
(
ÈÈF G
$str
ÈÈG P
)
ÈÈP Q
)
ÈÈQ R
;
ÈÈR S
return
ÍÍ 
new
ÍÍ %
TenantManagementContext
ÍÍ 2
(
ÍÍ2 3
options
ÍÍ3 :
.
ÍÍ: ;
Options
ÍÍ; B
)
ÍÍB C
;
ÍÍC D
}
ÎÎ 
,
ÎÎ 
	Lifestyle
ÎÎ 
.
ÎÎ 
Scoped
ÎÎ 
)
ÎÎ  
;
ÎÎ  !
Assembly
ÔÔ 
[
ÔÔ 
]
ÔÔ 

assemblies
ÔÔ !
=
ÔÔ" #
new
ÔÔ$ '
[
ÔÔ' (
]
ÔÔ( )
{
ÔÔ* +
typeof
 
(
 
IHandle
 
<
  
>
  !
)
! "
.
" #
GetTypeInfo
# .
(
. /
)
/ 0
.
0 1
Assembly
1 9
,
ÒÒ 
typeof
ÒÒ 
(
ÒÒ '
UsuarioCriadoEventHandler
ÒÒ 1
)
ÒÒ1 2
.
ÒÒ2 3
GetTypeInfo
ÒÒ3 >
(
ÒÒ> ?
)
ÒÒ? @
.
ÒÒ@ A
Assembly
ÒÒA I
,
ÚÚ 
typeof
ÚÚ 
(
ÚÚ 
Application
ÚÚ #
.
ÚÚ# $
EventHandlers
ÚÚ$ 1
.
ÚÚ1 2'
EmailPedidoEnviadoHandler
ÚÚ2 K
)
ÚÚK L
.
ÚÚL M
GetTypeInfo
ÚÚM X
(
ÚÚX Y
)
ÚÚY Z
.
ÚÚZ [
Assembly
ÚÚ[ c
,
ÛÛ 
typeof
ÛÛ 
(
ÛÛ 
Repositories
ÛÛ $
.
ÛÛ$ %
EventHandlers
ÛÛ% 2
.
ÛÛ2 3%
UserCreatedEventHandler
ÛÛ3 J
)
ÛÛJ K
.
ÛÛK L
GetTypeInfo
ÛÛL W
(
ÛÛW X
)
ÛÛX Y
.
ÛÛY Z
Assembly
ÛÛZ b
}
ÙÙ 
;
ÙÙ 
	container
ıı 
.
ıı  
RegisterCollection
ıı (
(
ıı( )
typeof
ıı) /
(
ıı/ 0
IHandle
ıı0 7
<
ıı7 8
>
ıı8 9
)
ıı9 :
,
ıı: ;

assemblies
ıı< F
)
ııF G
;
ııG H
	container
¯¯ 
.
¯¯ 
RegisterSingleton
¯¯ '
(
¯¯' (
(
¯¯( )
)
¯¯) *
=>
¯¯+ -
	container
¯¯. 7
.
¯¯7 8
GetInstance
¯¯8 C
<
¯¯C D
MapperProvider
¯¯D R
>
¯¯R S
(
¯¯S T
)
¯¯T U
.
¯¯U V
	GetMapper
¯¯V _
(
¯¯_ `
)
¯¯` a
)
¯¯a b
;
¯¯b c
	container
˚˚ 
.
˚˚ 
	CrossWire
˚˚ 
<
˚˚  
ILoggerFactory
˚˚  .
>
˚˚. /
(
˚˚/ 0
app
˚˚0 3
)
˚˚3 4
;
˚˚4 5
}
¸¸ 	
private
˛˛ 
string
˛˛  
GetDatabaseForUser
˛˛ )
(
˛˛) *
)
˛˛* +
{
ˇˇ 	
var
ÄÄ 
tenant
ÄÄ 
=
ÄÄ  
ObterTenantUsuario
ÄÄ +
(
ÄÄ+ ,
)
ÄÄ, -
;
ÄÄ- .
if
ÅÅ 
(
ÅÅ 
tenant
ÅÅ 
!=
ÅÅ 
null
ÅÅ 
)
ÅÅ 
{
ÇÇ 
var
ÉÉ 
cnn
ÉÉ 
=
ÉÉ 
Configuration
ÉÉ '
.
ÉÉ' (!
GetConnectionString
ÉÉ( ;
(
ÉÉ; <
$str
ÉÉ< D
)
ÉÉD E
;
ÉÉE F
return
ÑÑ 
cnn
ÑÑ 
.
ÑÑ 
Replace
ÑÑ "
(
ÑÑ" #
$str
ÑÑ# -
,
ÑÑ- .
tenant
ÑÑ/ 5
)
ÑÑ5 6
;
ÑÑ6 7
}
ÖÖ 
return
ÜÜ 
Configuration
ÜÜ  
.
ÜÜ  !!
GetConnectionString
ÜÜ! 4
(
ÜÜ4 5
$str
ÜÜ5 >
)
ÜÜ> ?
;
ÜÜ? @
}
áá 	
private
èè 
string
èè  
ObterTenantUsuario
èè )
(
èè) *
)
èè* +
{
êê 	
var
ëë 
httpContext
ëë 
=
ëë 
	container
ëë '
.
ëë' (
GetInstance
ëë( 3
<
ëë3 4"
IHttpContextAccessor
ëë4 H
>
ëëH I
(
ëëI J
)
ëëJ K
;
ëëK L
if
ìì 
(
ìì 
httpContext
ìì 
.
ìì 
HttpContext
ìì '
==
ìì( *
null
ìì+ /
||
îî 
httpContext
îî 
.
îî 
HttpContext
îî *
.
îî* +
User
îî+ /
==
îî0 2
null
îî3 7
||
ïï 
httpContext
ïï 
.
ïï 
HttpContext
ïï *
.
ïï* +
User
ïï+ /
.
ïï/ 0
Identity
ïï0 8
==
ïï9 ;
null
ïï< @
)
ïï@ A
return
ññ 
null
ññ 
;
ññ 
if
òò 
(
òò 
httpContext
òò 
.
òò 
HttpContext
òò '
.
òò' (
User
òò( ,
.
òò, -
Identity
òò- 5
is
òò6 8
ClaimsIdentity
òò9 G
identity
òòH P
)
òòP Q
{
ôô 
var
öö 
claims
öö 
=
öö 
identity
öö %
.
öö% &
Claims
öö& ,
.
öö, -
ToList
öö- 3
(
öö3 4
)
öö4 5
;
öö5 6
var
õõ 
claim
õõ 
=
õõ 
claims
õõ "
.
õõ" #
FirstOrDefault
õõ# 1
(
õõ1 2
c
õõ2 3
=>
õõ4 6
c
õõ7 8
.
õõ8 9
Type
õõ9 =
==
õõ> @

ClaimTypes
õõA K
.
õõK L
Email
õõL Q
)
õõQ R
;
õõR S
return
úú 
claim
úú 
?
úú 
.
úú 
Value
úú #
.
úú# $
Split
úú$ )
(
úú) *
$char
úú* -
)
úú- .
[
úú. /
$num
úú/ 0
]
úú0 1
;
úú1 2
}
ùù 
return
üü 
null
üü 
;
üü 
}
†† 	
}
°° 
}¢¢ œ
PD:\Dev\AspNetCoreTestes\App.WebAPI\Swagger\AuthorizationHeaderOperationFilter.cs
	namespace 	
App
 
. 
WebAPI 
. 
Swagger 
{ 
public 

class .
"AuthorizationHeaderOperationFilter 3
:4 5
IOperationFilter6 F
{ 
public 
void 
Apply 
( 
	Operation #
	operation$ -
,- ."
OperationFilterContext/ E
contextF M
)M N
{ 	
var 
filterPipeline 
=  
context! (
.( )
ApiDescription) 7
.7 8
ActionDescriptor8 H
.H I
FilterDescriptorsI Z
;Z [
var 
isAuthorized 
= 
filterPipeline -
.- .
Select. 4
(4 5

filterInfo5 ?
=>@ B

filterInfoC M
.M N
FilterN T
)T U
.U V
AnyV Y
(Y Z
filterZ `
=>a c
filterd j
isk m
AuthorizeFiltern }
)} ~
;~ 
var 
allowAnonymous 
=  
filterPipeline! /
./ 0
Select0 6
(6 7

filterInfo7 A
=>B D

filterInfoE O
.O P
FilterP V
)V W
.W X
AnyX [
([ \
filter\ b
=>c e
filterf l
ism o"
IAllowAnonymousFilter	p Ö
)
Ö Ü
;
Ü á
if 
( 
isAuthorized 
&& 
!  !
allowAnonymous! /
)/ 0
{ 
if 
( 
	operation 
. 

Parameters (
==) +
null, 0
)0 1
	operation 
. 

Parameters (
=) *
new+ .
List/ 3
<3 4

IParameter4 >
>> ?
(? @
)@ A
;A B
	operation 
. 

Parameters $
.$ %
Add% (
(( )
new) ,
NonBodyParameter- =
{ 
Name   
=   
$str   *
,  * +
In!! 
=!! 
$str!! !
,!!! "
Description"" 
=""  !
$str""" <
,""< =
Required## 
=## 
true## #
,### $
Type$$ 
=$$ 
$str$$ #
}%% 
)%% 
;%% 
}&& 
}'' 	
}(( 
})) ∆
?D:\Dev\AspNetCoreTestes\App.WebAPI\ViewModels\LoginViewModel.cs
	namespace 	
App
 
. 
WebAPI 
. 

ViewModels 
{ 
public 

class 
LoginViewModel 
{		 
[ 	
Required	 
] 
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
Required	 
] 
public 
string 
Senha 
{ 
get !
;! "
set# &
;& '
}( )
} 
} 